<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Automation Rhapsody" href="https://automationrhapsody.com/rss.xml"><meta name="generator" content="Astro v5.5.3"><script src="/scripts.js"></script><!-- Font preloads --><link rel="stylesheet" property="stylesheet" href="https://fonts.googleapis.com/css?family=Playball"><link rel="stylesheet" property="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter:400,400italic,700"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"><!-- Canonical URL --><link rel="canonical" href="https://automationrhapsody.com/code-coverage-of-ruby-on-rails-application-with-simplecov/"><!-- Primary Meta Tags --><title>Code coverage of Ruby on Rails application with simplecov</title><meta name="title" content="Code coverage of Ruby on Rails application with simplecov"><meta name="description" content="How to measure code coverage of Ruby on Rails application with simplecov."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://automationrhapsody.com/code-coverage-of-ruby-on-rails-application-with-simplecov/"><meta property="og:title" content="Code coverage of Ruby on Rails application with simplecov"><meta property="og:description" content="How to measure code coverage of Ruby on Rails application with simplecov."><meta property="og:image" content="https://automationrhapsody.com/blog-placeholder.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://automationrhapsody.com/code-coverage-of-ruby-on-rails-application-with-simplecov/"><meta property="twitter:title" content="Code coverage of Ruby on Rails application with simplecov"><meta property="twitter:description" content="How to measure code coverage of Ruby on Rails application with simplecov."><meta property="twitter:image" content="https://automationrhapsody.com/blog-placeholder.jpg"><style>:root{--color-gray-bg: #f5f5f5;--color-gray-text: #5e5e5e}body{font-family:Roboto,sans-serif;background:var(--color-gray-bg);word-wrap:break-word;overflow-wrap:break-word;color:var(--color-gray-text);font-size:18px}main{width:960px;max-width:calc(100% - 2em);margin:auto}h2{color:#3879d9;font-size:20px;margin:25px 0 6px}p{margin:6px 0}img{max-width:100%}pre{margin:0;padding:12px}@media (max-width: 720px){body{font-size:16px}ul{padding-inline-start:16px}}.tab{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab button{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s}.tab button:hover{background-color:#ddd}.tab button.active{background-color:#ccc}.tabcontent{display:none;border-top:none}footer[data-astro-cid-sz7xmlte]{margin:24px 0;text-align:center}header[data-astro-cid-3ef6ksr2]{text-align:center;font-size:56px}header[data-astro-cid-3ef6ksr2] div[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{font-family:Playball,Arial;color:#000;text-decoration:none;text-shadow:0 .033em 0 #fff;border-bottom:none}
article[data-astro-cid-bvzihdzo]{padding:24px;box-shadow:0 2px 3px #acabab;background:#fff;position:relative}.post-title[data-astro-cid-bvzihdzo]{font-family:Bitter,serif;font-weight:700!important;margin:0;padding:5px 0;font-size:32px;line-height:40px;color:#444}.tags[data-astro-cid-bvzihdzo]{display:flex;flex-wrap:wrap}.tags[data-astro-cid-bvzihdzo]>a[data-astro-cid-bvzihdzo]{margin-left:8px}@media (max-width: 720px){article[data-astro-cid-bvzihdzo]{padding:12px}}
</style></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <div data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2>Automation Rhapsody</a> </div> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <h1 class="post-title" data-astro-cid-bvzihdzo>Code coverage of Ruby on Rails application with simplecov</h1> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2019-06-01T00:00:00.000Z"> Jun 1, 2019 </time> </div> <hr data-astro-cid-bvzihdzo> </div>  <p>This is going to be a pretty short post. In general, it is very easy to measure code coverage on Ruby on Rails applications with a gem called <a href="https://github.com/colszowka/simplecov" target="_blank" rel="noopener noreferrer">simplecov</a>.</p>
<h2>Add coverage to Gemfile</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>gem 'simplecov', require: false</span></span>
<span class="line"><span></span></span></code></pre>
<p>By using the <em><strong>require: false</strong></em>, Gem gets installed but it is not included when bundler is called. In order to use the Gem you manually have to call <em><strong>require ‘simplecov’</strong></em>.</p>
<h2>Start code coverage</h2>
Starting the code coverage should be the first thing that the application is doing. So it can be invoked in <em><strong>config/boot.rb</strong></em> file. Add the following lines:
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if ENV['ENABLE_CODE_COVERAGE']</span></span>
<span class="line"><span>    require 'simplecov'</span></span>
<span class="line"><span>    SimpleCov.start 'rails'</span></span>
<span class="line"><span>end</span></span>
<span class="line"><span></span></span></code></pre>
<h2>Do the testing</h2>
A small part in the current post, huge part in the actual effort. Run all the tests that you have, manual, automated, etc.
<h2>Gather code coverage</h2>
There are basically two ways to get the code coverage: shutdown the application or somehow call <em><strong>SimpleCov.result.format!</strong></em>. Not much to say on the first one. In many cases, it is more convenient to keep the application running, but only the coverage report. For the latter, you may have some controller which is available on for non-production environments, which you can hit with an HTTP call and it executed the code. The code coverage report is located in a folder called <em><strong>coverage</strong></em> in the root application folder.
<h2>Conclusion</h2>
It is pretty easy to measure code coverage on Ruby on Rails applications with the simplecov Gem.  <hr data-astro-cid-bvzihdzo>  <h2 data-astro-cid-bvzihdzo>Related Posts</h2> <ul data-astro-cid-bvzihdzo> <li data-astro-cid-bvzihdzo> <a href="/what-about-code-coverage/" data-astro-cid-bvzihdzo>What about code coverage</a> </li> </ul>  <div class="tags" data-astro-cid-bvzihdzo> <div data-astro-cid-bvzihdzo>Tags:</div> <a href="/tags/code-coverage" data-astro-cid-bvzihdzo>Code coverage</a><a href="/tags/non-functional" data-astro-cid-bvzihdzo>Non-functional</a> </div> </div> </article> </main> <footer data-astro-cid-sz7xmlte>
&copy; 2025 - Automation Rhapsody. All rights reserved.
</footer>  </body></html>